{"ast":null,"code":"var _jsxFileName = \"/Users/danwilloughby/Desktop/NST/nst-art-frontend/src/App.js\";\nimport React, { Component } from 'react';\nimport Particles from 'react-particles-js';\nimport Navigation from './Components/Navigation/Navigation.js';\nimport Logo from './Components/Logo/Logo.js';\nimport ImageLinkForm from './Components/ImageLinkForm/ImageLinkForm.js';\nimport Rank from './Components/Rank/Rank.js';\nimport DisplayNST from './Components/DisplayNST/DisplayNST.js';\nimport SignIn from './Components/SignIn/SignIn.js';\nimport Register from './Components/Register/Register.js';\nimport NSTExample from './Components/NSTExample/NSTExample.js';\nimport './App.css';\nconst particlesParams = {\n  particles: {\n    number: {\n      value: 50,\n      density: {\n        enable: true,\n        value_area: 900\n      }\n    },\n    line_linked: {\n      shadow: {\n        enable: true,\n        color: \"pink\",\n        blur: 5\n      }\n    }\n  }\n};\nconst initialState = {\n  input1: '',\n  input2: '',\n  link: '',\n  route: 'signin',\n  user: {\n    id: '',\n    name: '',\n    email: '',\n    entries: 0,\n    joined: ''\n  }\n};\n\nclass App extends Component {\n  constructor() {\n    super();\n\n    this.loadUser = data => {\n      this.setState({\n        user: {\n          id: data.id,\n          name: data.name,\n          email: data.email,\n          entries: data.entries,\n          joined: data.joined\n        }\n      });\n    };\n\n    this.runNST = async function (img, style) {\n      try {\n        const result = await fetch('https://shrouded-mesa-77753.herokuapp.com/imageurl', {\n          method: 'post',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            img: img,\n            style: style\n          })\n        });\n        const url = await result.json();\n        this.setState({\n          link: url\n        });\n\n        if (url !== 'API not reachable.') {\n          fetch('https://shrouded-mesa-77753.herokuapp.com/image', {\n            method: 'put',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n              id: this.state.user.id\n            })\n          }).then(response => response.json()).then(count => {\n            this.setState(Object.assign(this.state.user, {\n              entries: count\n            }));\n          });\n        } else {\n          throw Error;\n        }\n      } catch {\n        alert(\"Please check your url's are valid.\");\n      }\n    };\n\n    this.onInput1Change = event => {\n      this.setState({\n        input1: event.target.value\n      });\n    };\n\n    this.onInput2Change = event => {\n      this.setState({\n        input2: event.target.value\n      });\n    };\n\n    this.onImageSubmit = event => {\n      this.runNST(this.state.input1, this.state.input2);\n    };\n\n    this.onRouteChange = Route => {\n      if (this.state.route === 'home') {\n        this.setState(initialState);\n      }\n\n      this.setState({\n        route: Route\n      });\n    };\n\n    this.isSignedIn = () => {\n      return this.state.route;\n    };\n\n    this.state = initialState;\n  }\n\n  render() {\n    const {\n      route\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(Particles, {\n      className: \"particles\",\n      params: particlesParams,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(Navigation, {\n      onRouteChange: this.onRouteChange,\n      isSignedIn: this.isSignedIn,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 7\n      }\n    }), route === 'signin' ? /*#__PURE__*/React.createElement(SignIn, {\n      loadUser: this.loadUser,\n      onRouteChange: this.onRouteChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 11\n      }\n    }) : route === 'home' ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 14\n      }\n    }, /*#__PURE__*/React.createElement(Logo, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(NSTExample, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(DisplayNST, {\n      link: this.state.link,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Rank, {\n      name: this.state.user.name,\n      entries: this.state.user.entries,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(ImageLinkForm, {\n      name: 'Submit',\n      description: \"Insert an image url into the content and style inputs. Then witness the power of AI's neural style transfer as it reimagines your content in the style of your favourite artist.\",\n      onInputChange1: this.onInput1Change,\n      onInputChange2: this.onInput2Change,\n      onSubmit: this.onImageSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 15\n      }\n    })) : /*#__PURE__*/React.createElement(Register, {\n      onRouteChange: this.onRouteChange,\n      loadUser: this.loadUser,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 14\n      }\n    }));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/danwilloughby/Desktop/NST/nst-art-frontend/src/App.js"],"names":["React","Component","Particles","Navigation","Logo","ImageLinkForm","Rank","DisplayNST","SignIn","Register","NSTExample","particlesParams","particles","number","value","density","enable","value_area","line_linked","shadow","color","blur","initialState","input1","input2","link","route","user","id","name","email","entries","joined","App","constructor","loadUser","data","setState","runNST","img","style","result","fetch","method","headers","body","JSON","stringify","url","json","state","then","response","count","Object","assign","Error","alert","onInput1Change","event","target","onInput2Change","onImageSubmit","onRouteChange","Route","isSignedIn","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Particles from 'react-particles-js';\nimport Navigation from './Components/Navigation/Navigation.js';\nimport Logo from './Components/Logo/Logo.js';\nimport ImageLinkForm from './Components/ImageLinkForm/ImageLinkForm.js';\nimport Rank from './Components/Rank/Rank.js';\nimport DisplayNST from './Components/DisplayNST/DisplayNST.js';\nimport SignIn from './Components/SignIn/SignIn.js';\nimport Register from './Components/Register/Register.js';\nimport NSTExample from './Components/NSTExample/NSTExample.js';\nimport './App.css';\n\nconst particlesParams = {\n    particles: {\n      number: {\n        value: 50,\n        density: {\n          enable: true,\n          value_area: 900\n        }\n      },\n      line_linked: {\n        shadow: {\n          enable: true,\n          color: \"pink\",\n          blur: 5\n      }\n    }\n  }\n}\nconst initialState = {\n  input1: '',\n  input2: '',\n  link: '',\n  route: 'signin',\n  user: {\n    id: '',\n    name: '',\n    email: '',\n    entries: 0,\n    joined: ''\n  }\n}\n\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = initialState;\n  }\n\n  loadUser = (data) => {\n    this.setState({user: {\n      id: data.id,\n      name: data.name,\n      email: data.email,\n      entries: data.entries,\n      joined: data.joined\n    }})\n  }\n\n  runNST = (async function(img, style) {\n    try {\n      const result = await fetch('https://shrouded-mesa-77753.herokuapp.com/imageurl', {\n        method: 'post',\n        headers: {'Content-Type': 'application/json'},\n        body: JSON.stringify({\n          img: img,\n          style: style\n        })\n      })\n      const url = await result.json();\n      this.setState({link: url});\n      if (url !== 'API not reachable.') {\n          fetch('https://shrouded-mesa-77753.herokuapp.com/image', {\n            method: 'put',\n            headers: {'Content-Type': 'application/json'},\n            body: JSON.stringify({\n              id: this.state.user.id\n          })\n        })\n        .then(response => response.json())\n        .then(count => {\n          this.setState(Object.assign(this.state.user, { entries: count}))\n        })\n      } else {\n            throw Error;\n          }\n        }\n        catch {\n            alert(\"Please check your url's are valid.\");\n          }\n      })\n\n  onInput1Change = (event) => {\n    this.setState({input1: event.target.value});\n  }\n\n  onInput2Change = (event) => {\n    this.setState({input2: event.target.value});\n  }\n\n  onImageSubmit = (event) => {\n    this.runNST(this.state.input1, this.state.input2);\n  }\n\n  onRouteChange = (Route) => {\n    if (this.state.route === 'home') {\n      this.setState(initialState);\n    }\n    this.setState({route: Route});\n  }\n\n  isSignedIn = () => {\n    return this.state.route;\n  }\n\n  render() {\n   const { route } = this.state;\n   return (\n    <div className=\"App\">\n      <Particles\n        className='particles'\n        params={particlesParams}\n      />\n      <Navigation onRouteChange={this.onRouteChange} isSignedIn={this.isSignedIn} />\n      { route === 'signin'\n        ? <SignIn loadUser={this.loadUser} onRouteChange={this.onRouteChange} />\n        : ( route === 'home'\n           ? <div>\n              <Logo />\n              <NSTExample />\n              <DisplayNST link={this.state.link}/>\n              <Rank name={this.state.user.name} entries={this.state.user.entries} />\n              <ImageLinkForm\n                name={'Submit'}\n                description={\"Insert an image url into the content and style inputs. Then witness the power of AI's neural style transfer as it reimagines your content in the style of your favourite artist.\"}\n                onInputChange1={this.onInput1Change}\n                onInputChange2={this.onInput2Change}\n                onSubmit={this.onImageSubmit}\n              />\n            </div>\n           : <Register onRouteChange={this.onRouteChange} loadUser={this.loadUser} />\n         )\n      }\n    </div>\n  )}\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}